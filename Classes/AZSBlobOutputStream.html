<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>AZSBlobOutputStream Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">Azure Storage Client for iOS </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Microsoft</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	

	
	

	

	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">AZSBlobOutputStream Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSOutputStream</td>
</tr><tr>
	<th>Conforms to</th>
	<td>NSStreamDelegate</td>
</tr><tr>
	<th>Declared in</th>
	<td>AZSBlobOutputStream.h<br />AZSBlobOutputStream.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>An AZSBlobOutputStream is used to write data to a blob on the service.</p>

<p>The AZSBlobOutputStream class inherits from NSOutputStream, and is designed to be used similarly.
To create an AZSBlobOutputStream instance, call the createOutputStream method on an instance of
AZSCloudBlockBlob.  Just like a regular output stream, you can set a delegate to be called on stream
events, and then schedule the stream in a runloop.  See <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Streams/Streams.html">https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Streams/Streams.html</a>
for more details about how to use streams.</p>

<p>Internally, the AZSBlobOutputStream will buffer data that&rsquo;s written to it until it has buffered one
block&rsquo;s worth of data.  (Currently, block size is hard-coded to 4 MB; this will soon be configurable.)
That block will then be asynchronously committed to the service while more data is being buffered.
To protect against usign too much network bandwidth at a time, there is a hard-coded maximum to
how many uploads are outstanding at once (currently 3, this will soon be configurable.)</p>

<p>When close is called on the stream, the stream will commit any remaining data, and then commit the block list
it has been building.</p><div class="warning"><p><strong>Warning:</strong> Using a AZSBlobOutputStream will overwrite any existing data in the blob.</p></div><div class="warning"><p><strong>Warning:</strong> The call to close the stream will block until all uploads are complete and the block list has been committed.  As
network operations, this make take a significant amount of time.  Do not call close on a critical thread.</p></div><div class="bug"><p><strong>Bug:</strong> Currently, if there are too many outstanding block uploads, a call to write will block.  This is a known
issue.</p></div>
					</div>
					
					

					
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 Microsoft. All rights reserved. Updated: 2016-07-26</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>